(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[50],{589:function(e,t,a){},960:function(e,t,a){"use strict";a.r(t);var n=a(168),l=a(169),r=a(171),o=a(170),c=a(173),s=a(172),i=a(1),d=a.n(i),m=a(580),u=(a(583),function(e){var t={columns:[{label:"#",field:"id",sort:"disabled",width:10},{label:"Name",field:"label",sort:"dsc",width:40},{label:"Function",field:"function",sort:"asc",width:40},{label:"Updated On",field:"updatedOn",sort:"asc",width:40},{label:"Action",field:"action",sort:"disabled",width:50}],rows:e.posts};return d.a.createElement(m.e,null,d.a.createElement(m.f,{small:!0,theadColor:"white",responsiveXl:!0,btn:!0,striped:!0,data:t,sortable:!0,bordered:!0,noBottomColumns:!0,responsiveSm:!0}))}),p=a(69),g=a.n(p),b=(a(589),a(902)),f=a(768),h=a(848),E=a(849),C=a(831),y=a(832),k=a(570),N=a(619),v=a(850),O=a(92),w=a(70);a(602);O.b.configure();var R=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).addChannel=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("currentUser")),n=null===t||void 0===t?void 0:t.role,l=document.querySelector("#channelData"),r=new FormData(l),o=r.get("name"),s=r.get("department");(new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&200===this.status&&alert("Uploaded!")},(new FormData).append("channelForm",'{"name": "'+o+'","department": "'+s+'"}');Object(c.a)(a);g.a.post(w[w.REACT_APP_ENVIRONMENT].API_CREATE_CHANNEL,{label:o,function:s,createdBy:n},{headers:{ContentType:"Application/json",Authorization:t.token}}).then((function(e){Object(O.b)("Channel Created Successfully"),setTimeout((function(){window.location.reload()}),1e3)}))},a.state={selectedFile:null,modal:!1,backdrop:!0},a.openFormModal=a.openFormModal.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"openFormModal",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(b.a,{size:"lg",isOpen:this.props.modal,toggle:this.props.toggle,className:this.props.className,backdrop:this.backdrop},d.a.createElement(f.a,{id:"channelData",onSubmit:this.addChannel},d.a.createElement(h.a,{toggle:this.props.toggle}," Add Channel "),d.a.createElement(E.a,null,d.a.createElement("a",{style:{color:"black"},className:"float-right"},"* Required"),d.a.createElement("br",null),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"container"},d.a.createElement(C.a,{row:!0},d.a.createElement(y.a,{htmlFor:"name",sm:"12",md:{size:1,offset:1},style:{color:"#E60000"}},d.a.createElement("a",{style:{color:"black"}},"*"),"Name:"),d.a.createElement(k.a,{sm:"12",md:{size:6,offset:2}},d.a.createElement(N.a,{type:"text",name:"name",placeholder:"Please provide name",required:!0}))),d.a.createElement(C.a,{row:!0},d.a.createElement(y.a,{htmlFor:"department",sm:"12",md:{size:1,offset:1},style:{color:"#E60000"}},d.a.createElement("a",{style:{color:"black"}},"*"),"Function:"),d.a.createElement(k.a,{sm:"12",md:{size:6,offset:2}},d.a.createElement(N.a,{type:"text",name:"department",id:"department",placeholder:"Please select function",required:!0})))))),d.a.createElement(v.a,null,d.a.createElement("div",{className:"btn-group"},d.a.createElement("a",{style:{paddingRight:"5px"}},d.a.createElement("button",{className:"btn btn-lg",onClick:this.props.toggle,style:{backgroundColor:"#000",color:"#fff",borderColor:"green",borderRadius:10,paddingLeft:5,paddingRight:5,paddingTop:0,paddingBottom:0,textTransform:"unset"}},"Cancel")),d.a.createElement("button",{className:"btn btn-lg",type:"submit",style:{backgroundColor:"#E60000",color:"#fff",borderColor:"green",borderRadius:10,paddingLeft:5,paddingRight:5,paddingTop:0,paddingBottom:0,textTransform:"unset"}},"Submit"))))))}}]),t}(i.Component),S=a(587);O.b.configure();var T=function(e){e.buttonLabelView;var t=e.className,a=Object(i.useState)(!1),n=Object(S.a)(a,2),l=n[0],r=n[1],o=Object(i.useState)(!1),c=Object(S.a)(o,2),s=c[0],m=c[1],u=Object(i.useState)(!1),p=Object(S.a)(u,2),R=p[0],T=p[1],j=function(){return r(!l)},F=function(){return m(!s)},A=function(){return T(!R)};function x(e){e.preventDefault(),r(!1),m(!1),T(!1)}return d.a.createElement("div",null,d.a.createElement("a",{className:"link",onClick:j,style:{color:"blue",fontFamily:"san-serif",paddingRight:15}},"View"),d.a.createElement("a",{className:"link",onClick:F,style:{color:"blue",fontFamily:"san-serif"}},"Edit"),d.a.createElement(b.a,{isOpen:l,toggle:j,className:t},d.a.createElement(h.a,{toggle:j}," Channel Information "),d.a.createElement(E.a,null,d.a.createElement("card",{style:{border:"10px",paddingLeft:"70px"}},d.a.createElement("a",{style:{fontSize:"15px",paddingRight:"20px",color:"#E60000"}},"Name:  "),e.selectedChannelLabel,d.a.createElement("br",null),d.a.createElement("a",{style:{fontSize:"15px",paddingLeft:"70px",paddingRight:"4px",color:"#E60000"}},"Function:  "),e.selectedChannelFunction||"",d.a.createElement("br",null),d.a.createElement("br",null))),d.a.createElement(v.a,null,d.a.createElement("div",{className:"btn-group"},d.a.createElement("button",{className:"btn btn-lg",onClick:x,style:{backgroundColor:"#E60000",color:"#fff",borderRadius:10,paddingLeft:15,paddingRight:15,paddingTop:0,paddingBottom:0,textTransform:"unset"}},"OK")," "))),d.a.createElement(b.a,{isOpen:s,toggle:F,className:t},d.a.createElement(f.a,{id:"channelData"},d.a.createElement(h.a,null," Edit Channel "),d.a.createElement(E.a,null,d.a.createElement("a",{style:{color:"black"},className:"float-right"},"* Required"),d.a.createElement("br",null),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"container"},d.a.createElement(C.a,{row:!0},d.a.createElement(y.a,{htmlFor:"name",sm:"12",md:{size:1,offset:1},style:{color:"#E60000"}},d.a.createElement("a",{style:{color:"black"}},"*"),"Name:"),d.a.createElement(k.a,{sm:"12",md:{size:6,offset:2}},d.a.createElement(N.a,{type:"text",name:"name",defaultValue:e.selectedChannelLabel,required:!0}))),d.a.createElement(C.a,{row:!0},d.a.createElement(y.a,{htmlFor:"department",sm:"12",md:{size:1,offset:1},style:{color:"#E60000"}},d.a.createElement("a",{style:{color:"black"}},"*"),"Function:"),d.a.createElement(k.a,{sm:"12",md:{size:6,offset:2}},d.a.createElement(N.a,{type:"text",name:"department",id:"department",defaultValue:e.selectedChannelFunction,required:!0})))))),d.a.createElement(v.a,null,d.a.createElement("div",{className:"btn-group"},d.a.createElement("a",{style:{paddingRight:"5px"}},d.a.createElement("button",{className:"btn btn-lg",onClick:x,style:{backgroundColor:"#000",color:"#fff",borderColor:"green",borderRadius:10,paddingLeft:5,paddingRight:5,paddingTop:0,paddingBottom:0,textTransform:"unset"}},"Cancel")),d.a.createElement("button",{className:"btn btn-lg",onClick:function(t){t.preventDefault();var a=JSON.parse(localStorage.getItem("currentUser")),n=null===a||void 0===a?void 0:a.role,l=document.querySelector("#channelData"),r=new FormData(l),o=r.get("name"),c=r.get("department");(new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&200===this.status&&alert("Uploaded!")};var s=new FormData,i=new Date;s.append("channelForm",'{"name": "'+o+'","department": "'+c+'"}'),g.a.put(w[w.REACT_APP_ENVIRONMENT].API_UPDATE_CHANNEL,{label:o,id:e.selectedChannelId,function:c,updatedBy:n,createdOn:i},{headers:{ContentType:"Application/json",Authorization:a.token}}).then((function(e){O.b.success("Channel Edited Successfully",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout((function(){window.location.reload()}),1e3)}))},type:"submit",style:{backgroundColor:"#E60000",color:"#fff",borderColor:"green",borderRadius:10,paddingLeft:5,paddingRight:5,paddingTop:0,paddingBottom:0,textTransform:"unset"}},"Submit"))))),d.a.createElement(b.a,{isOpen:R,toggle:A,className:t},d.a.createElement(h.a,{toggle:A},"Delete"),d.a.createElement(E.a,null),d.a.createElement(v.a,null,d.a.createElement("div",{className:"btn-group"},d.a.createElement("button",{className:"btn btn-lg",onClick:x,style:{backgroundColor:"#000",color:"#fff",borderColor:"green",borderRadius:10,paddingLeft:5,paddingRight:5,paddingTop:0,paddingBottom:0,textTransform:"unset"}},"Cancel")," "," "," ",d.a.createElement("button",{className:"btn btn-lg",type:"submit",style:{backgroundColor:"#E60000",color:"#fff",borderColor:"green",borderRadius:10,paddingLeft:5,paddingRight:5,paddingTop:0,paddingBottom:0,textTransform:"unset"}},"Submit")))))},j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={posts:[],modal:!1,backdrop:!0,currentUser:""},a.toggle=a.toggle.bind(Object(c.a)(a)),a.toggleViewChannel=a.toggleViewChannel.bind(Object(c.a)(a)),a.changeBackdrop=a.changeBackdrop.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this,a=JSON.parse(localStorage.getItem("currentUser"));this.setState({currentUser:a});null===a||void 0===a||a.role;g.a.get(w[w.REACT_APP_ENVIRONMENT].API_GET_CHANNEL,{headers:{ContentType:"application/json",Authorization:a.token}}).then((function(a){var n=a.data.errCode,l=a.data.channels||[],r=l.length?l.map((function(t,a){new Date(t.createdOn);var n=new Date(t.createdOn);return{id:a+1,label:t.label,function:t.function,updatedOn:n.toString().substring(0,28),action:d.a.createElement(i.Fragment,null,d.a.createElement(m.d,null,d.a.createElement(T,Object.assign({toggleViewChannel:e.toggle,posts:t,constructor:e.constructor,changeBackdrop:e.changeBackdrop},e.state,{selectedChannelId:t.id,selectedChannelLabel:t.label,selectedChannelFunction:t.function}))))}})):[];t.setState({ProductData:r,currentUserErrorCode:n})}))}},{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"toggleViewChannel",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"changeBackdrop",value:function(e){var t=e.target.value;"static"!==t&&(t=JSON.parse(t)),this.setState({backdrop:t})}},{key:"render",value:function(){return"2"==this.state.currentUserErrorCode&&(window.location.href="/login",localStorage.removeItem("currentUser")),d.a.createElement("div",{className:"container",style:{backgroundColor:"#fff",height:"1200px"}},d.a.createElement("button",{className:"btn btn-lg icon-plus",onClick:this.toggle,style:{backgroundColor:"#E60000",color:"#fff",borderRadius:10,paddingLeft:10,paddingRight:10,paddingTop:5,paddingBottom:5,float:"right"},role:"button"},d.a.createElement("a",{style:{fontFamily:"Roboto"}},"Add"))," ",d.a.createElement("br",null),d.a.createElement(R,Object.assign({toggle:this.toggle,constructor:this.constructor,changeBackdrop:this.changeBackdrop},this.state)),d.a.createElement("br",null),d.a.createElement(u,Object.assign({},this.props,{posts:this.state.ProductData})))}}]),t}(i.Component);t.default=j}}]);
//# sourceMappingURL=50.51f4888f.chunk.js.map